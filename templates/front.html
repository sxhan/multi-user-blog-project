{% import 'blogpost.html' as blogpost %}

{% extends "base.html" %}

{% block content %}
    <div class="row main-title">
        <h1>Latest Posts</h1>
        <hr />
    </div>

    {% for post in posts %}
    <div class="row">
        <div class="col">
            <article>
                <div class="row">
                    <div class="col-sm-1">
                    </div>
                    <div class="col-sm-11">
                        <a href="/blog/{{post.key().id()}}">
                            <h2 class="row post-title">{{post.subject}} - {{post.author}}</h2>
                        </a>
                    </div>
                </div>
                <div class="row-sm-12">
                    <div class="col-sm-1 pull-left">
                        <div class="voting">
                            <form action="/blog/{{post.key().id()}}/up" method="post">
                                <button type="submit" name="upvote" class="upvote">⬆</button>
                            </form>
                            <div>•</div>
                            <form action="/blog/{{post.key().id()}}/down" method="post">
                                <button type="submit" name="downvote" class="downvote">⬇</button>
                            </form>
                        </div>
                    </div>
                    <div class="col-sm-11">
                        <pre class="row post-content-preview">{{ post.content }}</pre>
                    </div>
                </div>
            </article>
        </div>
    </div>


    {% endfor %}

{% endblock %}
